(this["webpackJsonpeasy-soql"]=this["webpackJsonpeasy-soql"]||[]).push([[0],{226:function(e,t,n){},228:function(e,t,n){},239:function(e,t){},241:function(e,t){},306:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),o=(n(226),n(71)),s=n.n(o),l=n(99),j=n(6),u=n(367),b=n(368),d=n(364),O=n(202),h=n(363),m=n(369),p=(n(228),n(66)),x=Object(p.a)({palette:{}}),f=n(36),g=Object(f.a)((function(e){return{container:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},logo:{margin:"0 1em"},marginButton:{margin:e.spacing(1)},queryBuilder:{width:"100%",fontSize:"2em"},queryAnimation:{width:"100%"}}})),v=n(197),y=n.n(v),w=null,S={init:function(e){e,w=new y.a.Connection({instanceUrl:e.instance_url,accessToken:e.access_token})},getObjects:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){w.describeGlobal((function(n,c){n&&t(n),console.log(c),e(c)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),QueryHook:function(e){var t=Object(c.useState)({}),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(j.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(""),b=Object(j.a)(u,2),d=b[0],O=b[1];return Object(c.useEffect)((function(){e&&(l(!0),console.log("Querying",e),w.query(e,(function(e,t){l(!1),e?(console.log(e.message,JSON.stringify(e),e),O(e),r({totalSize:0,done:!0,records:[]})):(O(""),console.log(t),r(t))})))}),[e]),[a,s,d]}},k=n(359),q=n(360),C=n(85),E=n(310),N=n(372),Q=n(311),B=n(371),U=n(208),I=n(62),T={clientId:"3MVG9Nk1FpUrSQHfKNnaUF1dVrBEebKXe8t9H.kyVVrVqQ9Ccvq7B4ay2EjXuj0.P_UjHlH7F1h7TonXqOy_p",redirectUri:window.location.href.includes("localhost")?window.location.origin:window.location.href},L=n(5),_="Please enter a value";var z=function(){var e=function(e){return"".concat(e,"/services/oauth2/authorize?response_type=token&client_id=").concat(T.clientId,"&redirect_uri=").concat(T.redirectUri)},t=Object(c.useState)("login"),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(""),o=Object(j.a)(i,2),s=(o[0],o[1]),l=Object(c.useState)(""),u=Object(j.a)(l,2),b=u[0],d=u[1],h=Object(c.useState)(e("https://login.salesforce.com")),m=Object(j.a)(h,2),p=m[0],x=m[1];return Object(L.jsxs)(k.a,{children:[Object(L.jsx)(O.a,{variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Easy SOQL"}),Object(L.jsx)(O.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0,children:"Easily build SOQL queries against your Salesforce environments"}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{children:Object(L.jsxs)(q.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:[Object(L.jsx)(q.a,{item:!0,children:Object(L.jsxs)(C.a,{component:"fieldset",children:[Object(L.jsx)(E.a,{component:"legend",children:"Type of environment"}),Object(L.jsxs)(N.a,{"aria-label":"envType",name:"envType",value:a,onChange:function(t){var n=t.target.value;r(n),d(""),"login"===n?x(e("https://login.salesforce.com")):"test"===n&&x(e("https://test.salesforce.com"))},children:[Object(L.jsx)(Q.a,{value:"login",control:Object(L.jsx)(B.a,{}),label:"Production/Developer"}),Object(L.jsx)(Q.a,{value:"test",control:Object(L.jsx)(B.a,{}),label:"Sandbox"}),Object(L.jsx)(Q.a,{value:"custom",control:Object(L.jsx)(B.a,{}),label:"Custom URL"})]}),"custom"===a&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(U.a,{variant:"standard",placeholder:"Domain URL here..",required:!0,onChange:function(t){var n=t.target.value;s(n),n?((n=n.replace(/^(https:\/\/)/,"").replace(/^(http:\/\/)/,"").replace(/^(http:)/,"").replace(/^(http)/,"").replace(/^(htt)/,"").replace(/^(www\.)/,"")).includes(".")&&(n=n.split(".")[0]),x(e("https://".concat(n,".my.salesforce.com"))),d("https://".concat(n,".my.salesforce.com"))):d(_)}}),b]})]})}),Object(L.jsxs)(q.a,{item:!0,children:[Object(L.jsx)("br",{}),Object(L.jsx)(I.a,{onClick:function(){"custom"!==a||b&&b!==_?window.location.href=p:alert("Please enter a domain name")},variant:"contained",children:"Login"})]})]})})]})},F=n(312),H=n(365),P=n(370),M=n(366),R=n(198);var V=function(e){var t=e.result,n=e.query,c=[],a=[],r=[];if(n&&t&&t.records){for(var i=n.split(","),o=0;o<i.length;o++)0===o?c.push(i[o].trim().split(" ")[i[o].split(" ").length-1].trim()):c.push(i[o].trim().split(" ")[0].trim());a=c.map((function(e){return{field:e,headerName:e,width:200}})),r=t.records.map((function(e,t){var n=e;return delete n.attributes,n.id=t,n}))}return Object(L.jsxs)("div",{style:{height:700,width:"100%"},children:[t.totalSize>0&&Object(L.jsxs)("p",{children:["Total ",t.totalSize," records "]}),Object(L.jsx)(R.a,{rows:r,columns:a,pageSize:10})]})};var A=function(){var e=Object(c.useState)("SELECT Id, Name FROM Account LIMIT 10"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),i=Object(j.a)(r,2),o=i[0],s=i[1],l=S.QueryHook(o),u=Object(j.a)(l,3),b=u[0],d=u[1],h=u[2],m=g();return Object(L.jsx)(k.a,{children:Object(L.jsxs)(q.a,{container:!0,children:[Object(L.jsx)(q.a,{item:!0,xs:12,children:Object(L.jsx)(O.a,{variant:"h6",align:"left",color:"textSecondary",paragraph:!0,children:"Type your query below"})}),Object(L.jsx)(q.a,{item:!0,xs:12,children:Object(L.jsx)(F.a,{"aria-label":"minimum height",onChange:function(e){return a(e.target.value)},value:n,rowsMin:10,placeholder:"Query here",className:m.queryBuilder})}),Object(L.jsxs)(q.a,{item:!0,xs:12,children:[Object(L.jsx)(I.a,{onClick:function(e){s(n)},variant:"contained",color:"primary",className:m.marginButton,children:"Execute Query"}),Object(L.jsx)(I.a,{variant:"contained",color:"primary",className:m.marginButton,children:"Format Query"}),Object(L.jsx)(I.a,{onClick:function(e){a("")},variant:"outlined",color:"secondary",className:m.marginButton,children:"Clear"})]}),o&&Object(L.jsxs)(q.a,{item:!0,xs:12,children:[Object(L.jsx)("br",{}),d&&Object(L.jsxs)("div",{className:m.queryAnimation,children:[Object(L.jsx)(H.a,{}),Object(L.jsx)(H.a,{animation:!1}),Object(L.jsx)(H.a,{animation:"wave"})]}),!d&&h&&Object(L.jsxs)(P.a,{severity:"error",children:[Object(L.jsx)(M.a,{children:h.name}),Object(L.jsx)("strong",{children:h.message})]}),!d&&!h&&Object(L.jsx)(V,{result:b,query:o})]})]})})};var J=function(){var e=g(),t=Object(c.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var e=function(){var e={},t=window.location.hash;return t&&t.length>1&&(e=(t=t.substr(1)).split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{})),e}();if(console.log(e),e.access_token){function t(){return(t=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getObjects();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}S.init(e),r(!0),function(){t.apply(this,arguments)}()}}),[]),Object(L.jsxs)(h.a,{theme:x,children:[Object(L.jsx)(u.a,{}),Object(L.jsx)(b.a,{position:"relative",children:Object(L.jsxs)(d.a,{children:[Object(L.jsx)(m.a,{className:e.logo}),Object(L.jsx)(O.a,{variant:"h6",children:"Easy SOQL"})]})}),Object(L.jsx)("main",{children:Object(L.jsxs)("div",{children:[!a&&Object(L.jsx)(z,{}),a&&Object(L.jsx)(A,{})]})})]})};i.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(J,{})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.2a560c2d.chunk.js.map